#include "random_cfg.h"

///////////////////////////////////////////////////////////////////////////////
//////函	   数：void Random_Init(void)
//////功	   能：随机数的初始化
//////输入参数: 
//////输出参数: 
//////说	   明：
//////////////////////////////////////////////////////////////////////////////
void Random_Init(void)
{
	//---使能随机数总线时钟
	LL_AHB2_GRP1_EnableClock(LL_AHB2_GRP1_PERIPH_RNG);
	//---使能随机产生器
	LL_RNG_Enable(RNG);
}

///////////////////////////////////////////////////////////////////////////////
//////函	   数： 
//////功	   能： 
//////输入参数: 
//////输出参数: 
//////说	   明： 
//////////////////////////////////////////////////////////////////////////////
void Random_DeInit(void)
{
	LL_AHB2_GRP1_DisableClock(LL_AHB2_GRP1_PERIPH_RNG);
	LL_RNG_DeInit(RNG);
}

///////////////////////////////////////////////////////////////////////////////
//////函	   数： 
//////功	   能： 
//////输入参数: 
//////输出参数: 
//////说	   明： 
//////////////////////////////////////////////////////////////////////////////
UINT32_T Random_GetData(void)
{
	//---等待随机数就绪
	while (LL_RNG_IsActiveFlag_DRDY(RNG) != 1);
	//---读取产生的随机数
	return LL_RNG_ReadRandData32(RNG);
}
///////////////////////////////////////////////////////////////////////////////
//////函	   数： UINT32_T Random_GetRang(UINT32_T minVal, UINT32_T maxVal)
//////功	   能： 生成指定的随机数值
//////输入参数: 随机数的最小值，随机数的最大值
//////输出参数: 得到的随机数
//////说	   明： 
//////////////////////////////////////////////////////////////////////////////
UINT32_T Random_GetRang(UINT32_T minVal, UINT32_T maxVal)
{
	//---获取当前的随机数
	UINT32_T randomVal = Random_GetData();
	//---获取返回值
	UINT32_T _return = 0;
	//---计算当前产生的随机数
	if (minVal < maxVal)
	{
		_return = randomVal % (maxVal - minVal + 1) + minVal;
	}
	else
	{
		_return = randomVal % (minVal - maxVal + 1) + maxVal;
	}
	return _return;
}
